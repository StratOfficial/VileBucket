<!DOCTYPE html>
<html>
  <head>
    <title>VileBucket</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body style="background-color: black;">
    <div id="version"></div>
    <center><h1 style="color: white; font-family: a-theme-for-murder, sans-serif; font-size: 120px; color: #2D9420;">Vile Bucket</h1></center>
    <center><image src="vile_bucket.png" width=300 height=450></image></center>
    <center><h2 style="color: orange; font-family: Verdana, sans-serif;">This website is currently under development</h2></center>
    <script src="index.js"></script>
    <script>
    let currentVersion;
    
    async function fetchCurrentVersion() {
      const res = await fetch('https://raw.githubusercontent.com/StratOfficial/VileBucket/main/version.json?t=' + Date.now());
      const data = await res.json();
      return data.latest;
    }
    
    async function initVersionCheck() {
      currentVersion = await fetchCurrentVersion();

      const versionDiv = document.getElementById("version");
      if (versionDiv) {
        versionDiv.innerHTML = '<center><h3 style="color: green; position: absolute; bottom: 0; left: 0; width: 100%; text-align: left;">' + currentVersion + '</h3></center>';
      }
    
      setInterval(async () => {
        const latest = await fetchCurrentVersion();
        if (latest !== currentVersion) {
          location.reload(); // new version detected â†’ reload page
        }
      }, 10000); // check every 30 seconds
    }
    
    initVersionCheck();
  </script>
  </body>
</html>
