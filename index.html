<!DOCTYPE html>
<html>
  <head>
    <title>VileBucket</title>
  </head>
  <body style="background-color: black;>
    <div id="version"></div>
    <center><h1 style="color: white;">VileBucket</h1></center>
    <center><h1 style="color: white;">Testing again uhh again</h1></center>
    <center><h2 style="color: white;">and again</h2></center>
    <center><h2 style="color: red;">and again and again and again</h2></center>
    <script>
    let currentVersion;
    
    async function fetchCurrentVersion() {
      const res = await fetch('https://raw.githubusercontent.com/StratOfficial/VileBucket/main/version.json?t=' + Date.now());
      const data = await res.json();
      return data.latest;
    }
    
    async function initVersionCheck() {
      currentVersion = await fetchCurrentVersion();

      document.getElementById("version").innerHTML = "<center><h3 style="color: green;">" + currentVersion + "</center></h3>";
    
      setInterval(async () => {
        const latest = await fetchCurrentVersion();
        if (latest !== currentVersion) {
          location.reload(); // new version detected â†’ reload page
        }
      }, 10000); // check every 30 seconds
    }
    
    initVersionCheck();
    </script>
  </body>
</html>
